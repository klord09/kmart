!function(a){woodmartThemeModule.menuDropdownsAJAX=function(){function b(b){function c(a){Object.keys(a).forEach(function(c){woodmartThemeModule.removeDuplicatedStylesFromHTML(a[c],function(a){b.find('[data-id="'+c+'"]').replaceWith(a),b.addClass("dropdowns-loaded"),setTimeout(function(){b.removeClass("dropdowns-loading")},1e3)})}),woodmartThemeModule.$document.trigger("wdLoadDropdownsSuccess")}b.addClass("dropdowns-loading");var d=woodmart_settings.menu_storage_key+"_"+b.attr("id"),e=!1,f=b.find(".dropdown-load-ajax"),g=[];if(f.each(function(){g.push(a(this).find(".dropdown-html-placeholder").data("id"))}),woodmart_settings.ajax_dropdowns_save&&woodmartThemeModule.supports_html5_storage){var h=localStorage.getItem(d);try{e=JSON.parse(h)}catch(i){console.log("cant parse Json",i)}}e?c(e):a.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_load_html_dropdowns",ids:g},dataType:"json",method:"POST",success:function(a){"success"===a.status?(c(a.data),woodmart_settings.ajax_dropdowns_save&&woodmartThemeModule.supports_html5_storage&&localStorage.setItem(d,JSON.stringify(a.data))):console.log("loading html dropdowns returns wrong data - ",a.message)},error:function(){console.log("loading html dropdowns ajax error")}})}woodmartThemeModule.$body.on("mousemove",function(){a(".menu").has(".dropdown-load-ajax").each(function(){var c=a(this);c.hasClass("dropdowns-loading")||c.hasClass("dropdowns-loaded")||b(c)})})},a(document).ready(function(){woodmartThemeModule.menuDropdownsAJAX()})}(jQuery);